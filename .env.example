# ============================================================================
#  ACTUAL MCP SERVER - ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains all configuration options for the Actual MCP Server.
# Copy this file to .env and customize values for your environment.
# 
# Security Note: Never commit your .env file to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# ACTUAL FINANCE CONNECTION (REQUIRED)
# ----------------------------------------------------------------------------

# URL of your Actual Finance server
# Examples: 
#   - Local: http://localhost:5006
#   - Docker: http://actual-server:5006
#   - Remote: https://actual.yourdomain.com
ACTUAL_SERVER_URL=http://localhost:5006

# Password for Actual Finance server
# This is the password you use to access your Actual Budget
# SECURITY: Keep this secret! Use Docker secrets in production.
ACTUAL_PASSWORD=your_password_here

# Budget Sync ID from Actual Finance
# Find this in Actual Budget: Settings → Show Advanced Settings → Sync ID
# Format: 6-character alphanumeric string (e.g., abc123)
ACTUAL_BUDGET_SYNC_ID=your-budget-sync-id-here

# Skip downloading budget data on startup (useful for testing)
# Set to 'true' to skip budget sync during connection
# Default: false (budget will be downloaded)
# SKIP_BUDGET_DOWNLOAD=false

# ----------------------------------------------------------------------------
# MCP BRIDGE SERVER SETTINGS
# ----------------------------------------------------------------------------

# Directory to store Actual Finance budget data locally
# This directory will contain SQLite database files
# Default: ./actual-data
MCP_BRIDGE_DATA_DIR=./actual-data

# Port for the MCP bridge server to listen on
# Default: 3000
# Note: Change this if port 3000 is already in use
MCP_BRIDGE_PORT=3000

# Host address to bind the server to
# Use 0.0.0.0 to accept connections from any network interface
# Use 127.0.0.1 to only accept local connections
# Default: 0.0.0.0
MCP_BRIDGE_BIND_HOST=0.0.0.0

# Human-friendly advertised URL shown to clients (optional)
# This is displayed in logs and can help users connect to the server
# Examples:
#   - http://192.168.1.100:3000
#   - http://mcp-server.local:3000
#   - https://mcp.yourdomain.com
# MCP_BRIDGE_ADVERTISED_URL=http://localhost:3000

# ----------------------------------------------------------------------------
# MCP PROTOCOL SETTINGS
# ----------------------------------------------------------------------------

# Transport mode for MCP server (used in Docker/container deployments)
# Options: --http, --sse, --ws
# - --http: HTTP transport (recommended for LibreChat and most use cases)
# - --sse: Server-Sent Events transport
# - --ws: WebSocket transport
# Default: --http
# Note: In Docker, this is set via Dockerfile CMD. Override in docker-compose if needed.
# MCP_TRANSPORT_MODE=--http

# Authorization token for SSE (Server-Sent Events) connections
# When set, clients must include "Authorization: Bearer <token>" header
# Generate a strong random token for production use
# Example: openssl rand -hex 32
# Leave empty for no authentication (not recommended for production)
# MCP_SSE_AUTHORIZATION=your-secure-token-here

# SSE endpoint path (Server-Sent Events transport)
# Default: /sse
MCP_SSE_PATH=/sse

# HTTP endpoint path (HTTP transport)
# Default: /http
MCP_HTTP_PATH=/http

# ----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# ----------------------------------------------------------------------------

# Enable storing logs to disk
# Set to 'true' to write logs to files, 'false' for console only
# Default: false
MCP_BRIDGE_STORE_LOGS=false

# Directory where log files will be written
# Only used if MCP_BRIDGE_STORE_LOGS=true
# Default: ./logs
MCP_BRIDGE_LOG_DIR=./logs

# Log level for console and file output
# Options: error, warn, info, debug
# - error: Only critical errors
# - warn: Warnings and errors
# - info: General information (recommended for production)
# - debug: Detailed debugging information (verbose)
# Default: info
MCP_BRIDGE_LOG_LEVEL=info

# ----------------------------------------------------------------------------
# LOG ROTATION SETTINGS (Advanced)
# Only applicable when MCP_BRIDGE_STORE_LOGS=true
# ----------------------------------------------------------------------------

# Compress log files older than N hours
# Reduces disk space usage for old logs
# Default: 24 (compress after 24 hours)
MCP_BRIDGE_COMPRESS_AFTER_HOURS=24

# Date pattern for rotated log filenames
# Uses winston-daily-rotate-file format
# Default: YYYY-MM-DD (e.g., app-2025-11-09.log)
MCP_BRIDGE_ROTATE_DATEPATTERN=YYYY-MM-DD

# Maximum size per log file before rotation
# Examples: 20m (20 megabytes), 100m, 1g
# Default: 20m
MCP_BRIDGE_MAX_LOG_SIZE=20m

# How long to keep rotated log files
# Examples: 14d (14 days), 30d, 90d
# Default: 14d
MCP_BRIDGE_MAX_FILES=14d

# ----------------------------------------------------------------------------
# OBSERVABILITY (Optional)
# ----------------------------------------------------------------------------

# Enable Prometheus metrics endpoint
# Set to 'true' to expose metrics at /metrics
# Default: false
# ENABLE_METRICS=false

# Metrics port (if different from main server port)
# METRICS_PORT=9090

# ----------------------------------------------------------------------------
# TIMEZONE CONFIGURATION
# ----------------------------------------------------------------------------

# Timezone for log timestamps and date operations
# Use IANA timezone database names (e.g., America/New_York, Europe/London)
# Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
# Default: UTC
# TZ=UTC
# TZ=America/New_York
# TZ=Europe/London
# TZ=Asia/Tokyo

# ----------------------------------------------------------------------------
# DEVELOPMENT & TESTING
# ----------------------------------------------------------------------------

# Enable debug mode
# This can also be enabled via --debug command line flag
# Default: false
# DEBUG=false

# Test mode: Test connection only and exit
# Set to 'true' to test Actual Finance connection without starting server
# TEST_ACTUAL_CONNECTION=false

# Test mode: Run all tools test and exit
# Set to 'true' to test all MCP tools and exit
# TEST_ACTUAL_TOOLS=false

# Use mock/test data instead of real Actual Finance connection
# Useful for development without an Actual server
# USE_TEST_DATA=false