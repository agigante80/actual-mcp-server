version: '3.8'

services:
  mcp-server:
    image: ghcr.io/agigante80/actual-mcp-server:development
    container_name: actual-mcp-server
    ports:
      - "3600:3600"
    environment:
      - ACTUAL_SERVER_URL=${ACTUAL_SERVER_URL}
      - ACTUAL_PASSWORD=${ACTUAL_PASSWORD}
      - ACTUAL_BUDGET_SYNC_ID=${ACTUAL_BUDGET_SYNC_ID}
      - MCP_BRIDGE_PORT=3600
      - MCP_BRIDGE_DATA_DIR=/data
      - MCP_SSE_AUTHORIZATION=${MCP_SSE_AUTHORIZATION}
      - MCP_ENABLE_HTTPS=${MCP_ENABLE_HTTPS:-false}
      - MCP_HTTPS_CERT=${MCP_HTTPS_CERT:-/app/certs/cert.pem}
      - MCP_HTTPS_KEY=${MCP_HTTPS_KEY:-/app/certs/key.pem}
    volumes:
      - ./actual-data:/data
      - ./certs:/app/certs:ro
    restart: unless-stopped
    networks:
      - mcp-network

networks:
  mcp-network:
    driver: bridge
